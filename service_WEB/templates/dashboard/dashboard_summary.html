{%  extends 'layout.html' %}

{%  block body %}

    <link href="/static/record.css" rel="stylesheet">
    <link href="/static/dashboard.css" rel="stylesheet">

    <main role="main" class="p-1 pl-3 ml-sm-auto px-4 ">
        <div><nav aria-label="simulation_pages">
            <ul class="pagination justify-content-center">
                <li class="page-item"><a class="page-link" href="/dashboard">Simulation Visualization</a></li>
                <li class="page-item"><a class="page-link" href="/dashboard/simulate_calls">Try AsTeR API</a></li>
            </ul>
        </nav>
        </div>
        <div class="row">
            <div class="col-lg-9">
                <div id="floating-panel">
                    <button class="earthquake_button" onclick="toggleEarthquakes()"><b>Toggle Earthquakes</b></button>
                </div>
                <div id={{ map_parameters.identifier }}></div>
                {% block map_block %}{% endblock %}
                <div id="legend"><h5>Legend</h5></div>
            </div>
            <div class="col-lg-3" id="calls">
                <div class="text-center">
                    <button type="button" data-toggle="button" data-loading-text="Loading..." onclick="startSimulation(this)" class="btn btn-outline-success activated">Simulate the Big One</button>
{#                    <button class="btn btn-primary-success" id="startSimulation" type="button" disabled>#}
{#                        <span class="spinner-grow spinner-grow-sm text-danger" role="status" aria-hidden="true"></span>#}
{#                        Big One simulated!#}
{#                    </button>#}

{#                    <button type="button"#}
{#                            class="btn btn-primary start"#}
{#                            id="startSimulation"#}
{#                            data-loading-text="<i class='icon-spinner icon-spin icon-large'></i> @Localization.Uploading">#}
{#                        <i class="icon-upload icon-large"></i>#}
{#                        <span>Simulate Big One</span>#}
{#                    </button>#}

{#                    <div style="margin:3em;">#}
{#                        <form class="form-inline" id="topicForm" action="" method="POST">#}
{#                            <button type="button" id="btnFetch" class="btn btn-primary mb-2">Submit</button>#}
{#                        </form>#}
{#                    </div>#}

{#                    <button type="button" id="simulation-btn" class="btn btn-primary">Example Button</button>#}

                    <script>
{##}
{##}
                        {#function simulation(elmnt){#}
                        {#    elmnt.click(function(){#}
                        {#        elmnt.button('loading');#}
                        {#    });#}
                        {# }#}
{##}
{##}
                        {#document.getElementById('simulation').addEventListener('click', function(event) {#}
                        {#   $(this).button('loading');#}
                        {# });#}
{##}
{##}
{#                        document.getElementById('simulation').click(function() {#}
{##}
{#                            var $btn = document.getElementById('simulation');#}
{#                            $btn.button('loading');#}
{#                            // simulating a timeout#}
{#                            setTimeout(function () {#}
{#                                $btn.button('reset');#}
{#                            }, 1000);#}
{##}
{#                            setInterval("update_values();", 3000);#}
{#                            setInterval("display_markers();", 3000);#}
{#                         });#}
{##}
                        {#$(document).ready(function() {#}
                        {#    $("#btnFetch").click(function() {#}
                        {#        // disable button#}
                        {#        $(this).prop("disabled", true);#}
                        {#        // add spinner to button#}
                        {#        $(this).html(#}
                        {#            `<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading...`#}
                        {#        );#}
                        {#    });#}
                        {# });#}
                        {##}
                        function startSimulation(){
                            {#elmnt}) {#}

                            {#elmnt.button('loading');#}

                            setInterval("update_values();", 3000);
                            setInterval("display_markers();", 3000);
                         }

                    </script>
                </div>
                <hr>
                <h1 class="text-center">Calls</h1>
                <hr>
            </div>
        </div>

        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 border-bottom"></div>

    </main>

{% endblock %}
